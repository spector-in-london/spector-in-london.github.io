<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Milagro Documentation</title>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="http://spector-in-london.github.io/css/theme.css" type="text/css"/>
    <link rel="stylesheet" href="http://spector-in-london.github.io/css/theme-fixes.css" type="text/css"/>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/github.min.css">

    <link href="//fonts.googleapis.com/css?family=Open+Sans:300,400" rel="stylesheet">
    <link href="http://spector-in-london.github.io/css/tipuesearch.css" rel="stylesheet">

</head>
<body class="wy-body-for-nav">

    <div class="wy-grid-for-nav">

        <nav data-toggle="wy-nav-shift" class="wy-nav-side">
            <div class="wy-side-nav-search">
                <a href="http://spector-in-london.github.io/"><i class="fa fa-home"></i> Milagro Documentation</a>
            </div>
            <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                
                <form action="http://spector-in-london.github.io/search.html">
                <input type="text" name="q" id="tipue_search_input"  list="search" placeholder="Search the docs" required>

                <datalist id="search">
                <option>Introduction</option>
                <option>User's Manual</option>
                <option>Common Issues</option>
                <option>Getting Help</option>
                </datalist>
                </form>

                                            <p class="menu-section">
                            
                        </p>

                        <ul class="nav nav-pills nav-stacked">
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io/index.html">
                                        Introduction
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io/requirements.html">
                                        Why Milagro?
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io/security.html">
                                        About pairing-based cryptography
                                    </a>
                                </li>
                                                    </ul>
                                            <p class="menu-section">
                            <i class="fa fa-cog"></i> Installation
                        </p>

                        <ul class="nav nav-pills nav-stacked">
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io/installation/index.html">
                                        Overview
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io/installation/downloading.html">
                                        1. Downloading
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io/installation/configuration.html">
                                        2. Configuration
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io/installation/composer.html">
                                        3. Install Dependencies
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io/installation/command-line.html">
                                        4. The CLI Installer
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io/installation/server/index.html">
                                        5. Server Configuration
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io/installation/server/linux-osx.html">
                                        <span class='subnav-indent'><i class='fa fa-caret-right'></i> Linux/OSX</span>
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io/installation/server/windows.html">
                                        <span class='subnav-indent'><i class='fa fa-caret-right'></i> Windows</span>
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io/installation/server/wamp.html">
                                        <span class='subnav-indent'><i class='fa fa-caret-right'></i> WAMP</span>
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io/installation/server/xampp.html">
                                        <span class='subnav-indent'><i class='fa fa-caret-right'></i> XAMPP</span>
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io/installation/server/docker.html">
                                        <span class='subnav-indent'><i class='fa fa-caret-right'></i> Docker</span>
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io/installation/subdirectory.html">
                                        Subdirectories
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io/installation/proxy.html">
                                        Using a Reverse Proxy
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io/installation/manually-editing-data.html">
                                        Manually Editing Data
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io/upgrading.html">
                                        Upgrading
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io/contributing.html">
                                        Contributing
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io/translations.html">
                                        Translations
                                    </a>
                                </li>
                                                    </ul>
                                            <p class="menu-section">
                            <i class='fa fa-life-ring'></i> Help
                        </p>

                        <ul class="nav nav-pills nav-stacked">
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io/common-issues.html">
                                        Common Issues
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io/getting-help.html">
                                        Getting Help
                                    </a>
                                </li>
                                                    </ul>
                                            <p class="menu-section">
                            <i class='fa fa-book'></i> User's Manual
                        </p>

                        <ul class="nav nav-pills nav-stacked">
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io/manual/index.html">
                                        Basic Concepts
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io/manual/user-management/index.html">
                                        LDAP / User Management
                                    </a>
                                </li>
                                                            <li class="navitems active">
                                    <a href="http://spector-in-london.github.io/manual/importing-assets.html">
                                        Importing Assets
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io/manual/importing-licenses.html">
                                        Importing Licenses
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io/manual/alerts.html">
                                        Configuring Alerts
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io/manual/labels.html">
                                        Generating Labels
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io/manual/backups.html">
                                        Backups
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io/manual/custom-fields.html">
                                        Custom Fields and Fieldsets
                                    </a>
                                </li>
                                                    </ul>
                                            <p class="menu-section">
                            
                        </p>

                        <ul class="nav nav-pills nav-stacked">
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io/license.html">
                                        License
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://spector-in-london.github.io">
                                        Main Website
                                    </a>
                                </li>
                                                    </ul>
                                                </div>
            &nbsp;
        </nav>

        <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

                        <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
                <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
                <a href="http://spector-in-london.github.io/">Milagro Documentation</a>
            </nav>


                                        <a href="https://github.com/spector-in-london/gh-pages">
                    <img style="position: absolute; top: 0; right: 0; border: 0; max-width: 150px;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png">
                </a>
            
            <div class="wy-nav-content">
                <div class="rst-content">
                    <div role="main" class="document">
                        <h1 id="importing-users-and-assets">Importing Users and Assets</h1>
<div id="generated-toc" class="generate_from_h2"></div>
<p>There is an asset import tool in later versions of Snipe-IT ( &gt; <code>1.2.8</code>). It is available through the command-line only, as very large file uploading and processing will cause memory exhaustion issues on many servers<sup>*</sup>.</p>
<p><sup>*</sup>This web-based importer should be limited to imports of 1000 records at a time or less. We're working on making it able to handle more records at a time.</p>
<p>Make sure you have your organization's domain name filled out in the <code>domain</code> value in <code>app/config/production/app.php</code>, so that it knows what domain to use when generating email addresses if none are provided in your CSV.</p>
<h2 id="usage">Usage:</h2>
<pre><code>php artisan asset-import:csv path/to/your/file.csv --email_format=firstname.lastname --username_format=firstname.lastname</code></pre>
<table>
<thead>
<tr>
<th>Option</th>
<th>Values</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>email_format</code></td>
<td><code>firstname</code>, <code>firstname.lastname</code>, or <code>filastname</code> (for first initial, last name)</td>
<td>Yes</td>
</tr>
<tr>
<td><code>username_format</code></td>
<td><code>firstname</code>, <code>firstname.lastname</code>, <code>filastname</code> (for first initial, last name) or <code>email</code></td>
<td>Yes</td>
</tr>
</tbody>
</table>
<h2 id="csv-format">CSV Format</h2>
<p>The importer will be looking for a CSV in the format of:</p>
<pre><code>Name (Firstname Lastname), Email, Username, Asset Name, Asset Category, Asset Model, Manufacturer, Asset Model Number, Asset Serial, Asset Tag, Location Name, Asset Notes, Purchase Date, Purchase Cost</code></pre>
<p>The importer will ignore the first line of your CSV, so if you don't have a header row, you should add one. <strong>There should not be any blank lines at the end of the CSV.</strong></p>
<p><a href="http://docs.snipeitapp.com/sample-assets.csv"><strong>Download a sample CSV with dummy data</strong></a></p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Example Data</th>
<th>Required</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Name</td>
<td><code>Firstname Lastname</code></td>
<td>No</td>
<td>No commas. First name first, last name last</td>
</tr>
<tr>
<td>Email</td>
<td><code>you@example.com</code></td>
<td>No</td>
<td>If empty, will be generated using the <code>email_format</code> and <code>domain</code> you provide in your <code>app/config/production/app.php</code></td>
</tr>
<tr>
<td>Username</td>
<td><code>yourname.lastname</code></td>
<td>No</td>
<td>If empty, will be generated using the <code>username_format</code> you provide in the import command</td>
</tr>
<tr>
<td>Asset Name</td>
<td><code>Karen 2015</code></td>
<td>No</td>
<td></td>
</tr>
<tr>
<td>Asset Category</td>
<td><code>Laptop</code></td>
<td>Yes</td>
<td>Created if it doesn't exist</td>
</tr>
<tr>
<td>Asset Model</td>
<td><code>MBP Retina 13-inch</code></td>
<td>Yes</td>
<td>Created if it doesn't exist</td>
</tr>
<tr>
<td>Manufacturer Name</td>
<td><code>Apple</code></td>
<td>Yes</td>
<td>Created if it doesn't exist</td>
</tr>
<tr>
<td>Asset Model No.</td>
<td><code>MacbookPro12,1</code></td>
<td>No</td>
<td></td>
</tr>
<tr>
<td>Asset Serial</td>
<td><code>C20095805496869045H6</code></td>
<td>No</td>
<td></td>
</tr>
<tr>
<td>Asset Tag</td>
<td><code>KJH90890</code></td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>Location Name</td>
<td><code>San Diego</code></td>
<td>Yes</td>
<td>Created if it doesn't exist</td>
</tr>
<tr>
<td>Asset Notes</td>
<td><code>Karens old machine</code></td>
<td>No</td>
<td></td>
</tr>
<tr>
<td>Purchase Date</td>
<td><code>2015-01-12 07:30:30</code></td>
<td>No</td>
<td>Can take any date format that can be translated by <code>strtotime()</code></td>
</tr>
<tr>
<td>Purchase Cost</td>
<td><code>2999.99</code></td>
<td>No</td>
<td>Cost of asset</td>
</tr>
</tbody>
</table>
<h2 id="what-it-does">What It Does</h2>
<p>When you execute this command with a valid path to your CSV, the importer will:</p>
<ul>
<li>Split the user's name, creating <code>firstname</code> and <code>lastname</code>.</li>
<li>If not user is provided, it assumes the asset is Ready to Deploy.</li>
<li>If a user's name is provided, it assumes that asset is assigned to them</li>
<li>If a user's name is provided but no email is provided, it will generate an email address using your domain and the pattern you specified in <code>email_format</code></li>
<li>Generate a password for the new user if a user's name is provided</li>
<li>Create the user if they don't exist (based on their email address)</li>
<li>Determine if the asset model exists based on Asset Model Name and Model Number combination</li>
<li>Create the asset models, locations, category, etc if they don't currently exist, skip them if they do.</li>
<li>If no user is provided, the asset gets created as ready to deploy instead of checked out to a user</li>
</ul>
<p>When using this, <strong>BACK UP YOUR DATABASE FIRST</strong>. This is experimental, and it might cause unexpected results with your data. There's some data cleansing and checking that needs to be built in before it's bulletproof.</p>
<h2 id="limitations-amp-notes">Limitations &amp; Notes</h2>
<p>The importer isn't very smart. It currently does not do any validation other than checking to see if the record already exists in the database. It doesn't know that <code>Dell Inspiron</code> is the same asset as <code>Dell Insprion</code>. The quality of your data will make a big difference in the results you get, so if there's a lot of inconsistency, you're going to end up with with duplicates because the app has no way of knowing what you <strong>meant</strong> from what you wrote.</p>
                    </div>

                    <hr/>
                    <div class="blue-alert">
                            <div style="float: left; padding-right: 20px">
                                <i class="fa fa-exclamation-triangle fa-3x"></i>
                            </div>
                            <div style="float: left;">
                            <strong>
                                See an error in this documentation?
                            </strong>
                            <br>Submit a pull request on the <a href="https://github.com/milagro-docs/docs">documentation branch</a> of <a href="https://github.com/milagro-docs">Milagro Docs</a>.
                        </div>
                        <div class="clear"></div>
                    </div>



                    <footer>
                        <small>
                            <a href="http://snipeitapp.com">Milagro</a> is a free open source Apache incubation project. This documentation was built using <a href="http://couscous.io/">Couscous</a> using a <a href="https://github.com/CouscousPHP/Template-ReadTheDocs">theme</a> inspired by <a href="https://readthedocs.org/">Read the Docs</a>.
                        </small>
                    </footer>

                </div>
            </div>

        </section>

    </div>

    <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
    <script src="http://spector-in-london.github.io/js/theme.js"></script>
    <script type="text/javascript" src="http://spector-in-london.github.io/js/generated-toc.js">

    <script>
        $(function() {
            // Syntax highlighting
            hljs.initHighlightingOnLoad();
        });
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

    <style TYPE="text/css">
    code.has-jax {font: inherit; font-size: 100%; background: inherit; border: inherit;}
    </style>
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [['$','$'], ['\\(','\\)']],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'] // removed 'code' entry
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i = 0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
    </script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    
</body>
</html>
